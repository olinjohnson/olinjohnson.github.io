[{"content":"Howdy, I\u0026rsquo;m Olin! A few things I like to do\u0026hellip;  I love coding. I like designing software and computer systems, especially experimenting with AI. I like talking and writing about computers, so I document some of my learning in blog posts on my website. I like the occasional CTF. I took up CTFs a while ago while on an expedition to learn more about cybersecurity, and while I\u0026rsquo;m no expert, I find them pretty fun. I enjoy making music in my free time - mostly playing the piano. I like running.  A few projects I\u0026rsquo;ve completed\u0026hellip;  Sudoku solver \u0026amp; generator Minesweeper clone 2048 clone  What I\u0026rsquo;m currently working on\u0026hellip;  A mediocre chess engine  ","permalink":"https://olinjohnson.github.io/about/","summary":"Howdy, I\u0026rsquo;m Olin! A few things I like to do\u0026hellip;  I love coding. I like designing software and computer systems, especially experimenting with AI. I like talking and writing about computers, so I document some of my learning in blog posts on my website. I like the occasional CTF. I took up CTFs a while ago while on an expedition to learn more about cybersecurity, and while I\u0026rsquo;m no expert, I find them pretty fun.","title":"About"},{"content":"For a long time now, I\u0026rsquo;ve always found it a little bit weird that in Minecraft, only the person who gets the last swipe on the ender dragon actually earns the advancement \u0026ldquo;Free the End\u0026rdquo;.\nSo, after a suggestion from a friend, I decided to code a little plugin that would grant the advancement to every player who was involved with the fight.\nCoding the Plugin Before starting, you\u0026rsquo;ll have to install a fantastic IntelliJ plugin called Minecraft Development, which will set up our project architecture very easily for us.\nWith the plugin installed, I fired up IntelliJ and created a new project. Then I selected minecraft, then spigot plugin, so the plugin would work on my spigot server.\nAfter that, you\u0026rsquo;ll need to enter a GroupId and ArtifactId.\nFirstly, your GroupId should be your domain name backwards. So, if you have an actual domain name, you can enter it like com.yourdomainname. However, if you don\u0026rsquo;t have a domain name, you can always use your github pages subdomain. For example, my GroupId was io.github.olinjohnson.\nThen, your ArtifactId should be whatever the name of your plugin is going to be.\nAfter that, you\u0026rsquo;ll have the option to enter some additional (but not required) information, then you can click Next again, name you project, and click Create.\nFinally, IntelliJ will open a window for you to begin developing your plugin.\nIn the project\u0026rsquo;s file architecture, there is a directory called src. Inside src -\u0026gt; main -\u0026gt; java there will be a java package with the title yourGroupId.yourArtifactId. Inside this package is where the core class for the project is. If we open up the java class, we can see a couple important methods.\npackage io.github.olinjohnson.fenderender; import org.bukkit.plugin.java.JavaPlugin; public final class FenderEnder extends JavaPlugin { @Override public void onEnable(){ } @Override public void onDisable() } } The onEnable() method is called when the plugin is loaded, and onDisable is called when the plugin is terminated.\nFor now, we\u0026rsquo;re going to leave these two methods alone and create a new class inside the package called EnderDragonController.\nMy original thought process for creating this plugin was that the plugin should start by containing an event listener for whenever any entity dies. Then, it should check if the recently deceased entity is the ender dragon. If so, then it should award the \u0026ldquo;Free the End\u0026rdquo; advancement to any player in the end dimension.\nSo, lets begin by creating the event listener. We\u0026rsquo;ll want our class EnderDragonController to implement the Bukkit Listener class.\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; public class EnderDragonController implements Listener { } Then, we\u0026rsquo;ll create a method to listen for an entity death events.\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; import org.bukkit.event.EventHandler; import org.bukkit.event.entity.EntityDeathEvent; public class EnderDragonController implements Listener { @EventHandler public void onEnderDragonDeath(EntityDeathEvent event){ } } However, right now, this method is called whenever any entity dies. We only want it to run when the ender dragon dies. So, we\u0026rsquo;ll add a check to see if it was the ender dragon that died.\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; import org.bukkit.event.EventHandler; import org.bukkit.event.entity.EntityDeathEvent; import org.bukkit.entity.Entity; import org.bukkit.entity.EnderDragon; public class EnderDragonController implements Listener { @EventHandler public void onEnderDragonDeath(EntityDeathEvent event){ Entity entity = event.getEntity(); if(entity instanceof EnderDragon){ } } } In the code, we can use the instanceof keyword to compare the entity in question and check if it is the ender dragon. This checks to see if the entity is an instance of the EnderDragon class.\nNow that we\u0026rsquo;ve detected the death of the ender dragon, we need to reward all players in the end dimension with the advancement. We\u0026rsquo;ll start by retrieving a list of all the online players with Bukkit.getOnlinePlayers(). This returns a Java collection, which we can iterate over in a for loop.\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; import org.bukkit.event.EventHandler; import org.bukkit.event.entity.EntityDeathEvent; import org.bukkit.entity.Entity; import org.bukkit.entity.EnderDragon; import org.bukkit.entity.Player; public class EnderDragonController implements Listener { @EventHandler public void onEnderDragonDeath(EntityDeathEvent event){ Entity entity = event.getEntity(); if(entity instanceof EnderDragon){ for(Player p: Bukkit.getOnlinePlayers()){ } } } } Then, we\u0026rsquo;ll add a check to see which players in the collection are in the end dimension.\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; import org.bukkit.event.EventHandler; import org.bukkit.event.entity.EntityDeathEvent; import org.bukkit.entity.Entity; import org.bukkit.entity.EnderDragon; import org.bukkit.World; public class EnderDragonController implements Listener { @EventHandler public void onEnderDragonDeath(EntityDeathEvent event){ Entity entity = event.getEntity(); if(entity instanceof EnderDragon){ for(Player p: Bukkit.getOnlinePlayers()){ if(p.getWorld().getEnvironment() == World.Environment.THE_END){ } } } } } Finally, now that we\u0026rsquo;ve compiled a collection of players who were in the end while the ender dragon was killed, we need to reward them all with the advancement \u0026ldquo;Free the End\u0026rdquo;.\nWe\u0026rsquo;ll start by storing a reference to the advancement name in an instance of Bukkit\u0026rsquo;s NamespacedKey class. Then, we\u0026rsquo;ll get a reference to the player\u0026rsquo;s progress towards the advancement.\n// Reference to the advancement name NamespacedKey key = NamespacedKey.minecraft(\u0026#34;end/kill_dragon\u0026#34;); // Get the player\u0026#39;s current progress AdvancementProgress progress = p.getAdvancementProgress(Bukkit.getAdvancement(key)); Then, we\u0026rsquo;ll evaluate every remaining criteria that a player has to complete to fulfill this advancement. We\u0026rsquo;ll update any incomplete criteria to be complete.\n// Reference to the advancement name NamespacedKey key = NamespacedKey.minecraft(\u0026#34;end/kill_dragon\u0026#34;); // Get the player\u0026#39;s current progress AdvancementProgress progress = p.getAdvancementProgress(Bukkit.getAdvancement(key)); // Iterate over remaining criteria for(String stuff_left: progress.getRemainingCriteria()){ // Grant progress towards the advancement progress.awardCriteria(left); } This will award a player with the advancement.\nFinally, all your code in the EnderDragonController class should look similar to this:\npackage io.github.olinjohnson.fenderender; import org.bukkit.Bukkit; import org.bukkit.event.Listener; import org.bukkit.event.EventHandler; import org.bukkit.event.entity.EntityDeathEvent; import org.bukkit.entity.Entity; import org.bukkit.entity.EnderDragon; import org.bukkit.entity.Player; import org.bukkit.World; import org.bukkit.NamespacedKey; import org.bukkit.advancement.AdvancementProgress; public class EnderDragonController implements Listener { @EventHandler public void onEnderDragonDeath(EntityDeathEvent event){ Entity entity = event.getEntity(); if(entity instanceof EnderDragon){ for(Player p: Bukkit.getOnlinePlayers()){ if(p.getWorld().getEnvironment() == World.Environment.THE_END){ NamespacedKey key = NamespacedKey.minecraft(\u0026#34;end/kill_dragon\u0026#34;); AdvancementProgress progress = p.getAdvancementProgress(Bukkit.getAdvancement(key)); for(String stuff_left: progress.getRemainingCriteria()){ progress.awardCriteria(stuff_left); } } } } } } Alright! We\u0026rsquo;re almost done. Just one more small thing to do.\nNavigate back to your core class, the one with the same name as the title of your project.\nIn the onEnable() method, we need to initialize our EnderDragonController class, so it knows to actually listen for events.\npackage io.github.olinjohnson.fenderender; import org.bukkit.plugin.java.JavaPlugin; public final class FenderEnder extends JavaPlugin { @Override public void onEnable() { getServer().getPluginManager().registerEvents(new EnderDragonController(), this); } @Override public void onDisable() {} } Now we\u0026rsquo;re done!\nYou can package your plugin into a jar file by selecting Build -\u0026gt; Build Project, using CTRL + F9, or by running mvn package from the root level of your project.\nThis will create a jar file in your project\u0026rsquo;s target directory, which you can then import into your server\u0026rsquo;s plugins directory to see it in action!\nThe final code for this project can be viewed here on GitHub.\n","permalink":"https://olinjohnson.github.io/posts/fenderender/","summary":"For a long time now, I\u0026rsquo;ve always found it a little bit weird that in Minecraft, only the person who gets the last swipe on the ender dragon actually earns the advancement \u0026ldquo;Free the End\u0026rdquo;.\nSo, after a suggestion from a friend, I decided to code a little plugin that would grant the advancement to every player who was involved with the fight.\nCoding the Plugin Before starting, you\u0026rsquo;ll have to install a fantastic IntelliJ plugin called Minecraft Development, which will set up our project architecture very easily for us.","title":"Improving Minecraft's Ender Dragon Fight"},{"content":"Hello, world!\n","permalink":"https://olinjohnson.github.io/posts/first/","summary":"Hello, world!","title":"My First Post"},{"content":"","permalink":"https://olinjohnson.github.io/projects/","summary":"","title":"Past Projects"}]